<section
    id="education"
    class="snap-start min-h-[100dvh] h-fit md:h-screen relative flex items-center bg-[#030303] overflow-hidden py-12 md:py-0"
>
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div
            class="absolute top-[10%] md:top-[20%] -right-[10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-indigo-600/10 blur-[80px] md:blur-[120px] rounded-full"
        >
        </div>
        <div
            class="absolute bottom-[10%] md:bottom-[20%] -left-[10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-purple-600/5 blur-[80px] md:blur-[120px] rounded-full"
        >
        </div>
    </div>

    <div class="container mx-auto px-6 md:px-12 relative z-10">
        <div
            class="opacity-0 translate-y-10 transition-all duration-1000 ease-out"
            data-animate
        >
            <h2
                data-i18n="edu_title"
                class="text-4xl md:text-7xl font-black mb-10 md:mb-16 tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-white to-white/40"
            >
                Educaci√≥n
            </h2>

            <div class="relative max-w-4xl mx-auto md:mx-0">
                <div
                    id="timeline-line"
                    class="absolute left-0 md:left-8 top-0 bottom-0 w-[1px] bg-gradient-to-b from-indigo-500 via-indigo-500/40 to-transparent origin-top scale-y-0 transition-transform duration-[1500ms] ease-out"
                >
                </div>

                <div class="space-y-8 md:space-y-12">
                    {
                        [
                            {
                                id: "daw",
                                title_key: "edu_daw_title",
                                date: "2025 - Actualidad",
                                desc_key: "edu_daw_desc",
                                techs: [
                                    "Python",
                                    "Django",
                                    "VueJs",
                                    "Nginx",
                                    "PostgreSQL",
                                ],
                                active: true,
                            },
                            {
                                id: "dam",
                                title_key: "edu_dam_title",
                                date: "2023 - 2025",
                                desc_key: "edu_dam_desc",
                                techs: [
                                    "Java",
                                    "Spring",
                                    "Hibernate",
                                    "Android",
                                    "Laravel",
                                ],
                                active: false,
                            },
                        ].map((edu, index) => (
                            <div
                                class="relative pl-6 md:pl-24 group opacity-0 translate-x-4 transition-all duration-700"
                                style={`transition-delay: ${index * 200 + 500}ms`}
                                data-edu-item
                            >
                                <div
                                    class={`absolute left-[-4px] md:left-[27px] top-2 w-2 h-2 md:w-3 md:h-3 rounded-full border-2 border-[#030303] z-20 transition-all duration-500 group-hover:scale-150 ${edu.active ? "bg-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.8)]" : "bg-neutral-700 group-hover:bg-white"}`}
                                />

                                <div
                                    class={`relative p-[1px] rounded-2xl md:rounded-3xl overflow-hidden transition-all duration-500 ${edu.active ? "shadow-[0_0_30px_rgba(79,70,229,0.1)]" : ""}`}
                                >
                                    <div
                                        class={`absolute inset-0 bg-gradient-to-br ${edu.active ? "from-indigo-500/20 via-purple-500/10 to-transparent" : "from-white/5 to-transparent"} opacity-50 group-hover:opacity-100 transition-opacity`}
                                    />

                                    <div class="relative bg-neutral-900/40 backdrop-blur-xl p-5 md:p-8 rounded-[15px] md:rounded-[22px] border border-white/5">
                                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-2 md:gap-4 mb-4">
                                            <div>
                                                <span class="text-indigo-400 font-mono text-[9px] md:text-[10px] uppercase tracking-[0.2em] md:tracking-[0.3em] font-bold">
                                                    {edu.date}
                                                </span>
                                                <h3
                                                    data-i18n={edu.title_key}
                                                    class="text-lg md:text-2xl font-bold text-white mt-1 leading-tight"
                                                />
                                            </div>
                                            <span
                                                data-i18n="edu_institution"
                                                class="text-gray-400 text-[10px] md:text-xs font-medium px-2 py-0.5 md:px-3 md:py-1 bg-white/5 rounded-full border border-white/10 w-fit"
                                            />
                                        </div>

                                        <p
                                            data-i18n={edu.desc_key}
                                            class="text-gray-500 md:text-gray-400 text-xs md:text-sm leading-relaxed mb-5 md:mb-6 max-w-2xl"
                                        />

                                        <div class="flex flex-wrap gap-1.5 md:gap-2 text-white">
                                            {edu.techs.map((tech) => (
                                                <span class="px-1.5 py-0.5 md:px-2 md:py-1 bg-white/5 border border-white/5 rounded text-[8px] md:text-[9px] font-bold text-gray-500 uppercase group-hover:text-indigo-300 transition-colors">
                                                    {tech}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const observerOptions = {
        threshold: 0.2,
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                const line = entry.target.querySelector("#timeline-line");
                if (line) line.classList.replace("scale-y-0", "scale-y-100");

                const items = entry.target.querySelectorAll("[data-edu-item]");
                items.forEach((item) => {
                    item.classList.replace("opacity-0", "opacity-100");
                    item.classList.replace("translate-x-4", "translate-x-0");
                });
            }
        });
    }, observerOptions);

    const section = document.querySelector("#education");
    if (section) observer.observe(section);
</script>
