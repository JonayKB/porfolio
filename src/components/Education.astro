<section id="education" class="snap-start h-screen relative flex items-center bg-[#030303] overflow-hidden">
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-[20%] -right-[10%] w-[500px] h-[500px] bg-indigo-600/10 blur-[120px] rounded-full"></div>
        <div class="absolute bottom-[20%] -left-[10%] w-[500px] h-[500px] bg-purple-600/5 blur-[120px] rounded-full"></div>
    </div>

    <div class="container mx-auto px-6 md:px-12 relative z-10">
        <div class="opacity-0 translate-y-10 transition-all duration-1000 ease-out" data-animate>
            
            <h2 data-i18n="edu_title" class="text-5xl md:text-7xl font-black mb-16 tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-white to-white/40">
                Educación
            </h2>

            <div class="relative max-w-4xl mx-auto md:mx-0">
                <div 
                    id="timeline-line"
                    class="absolute left-0 md:left-8 top-0 bottom-0 w-[1px] bg-gradient-to-b from-indigo-500 via-indigo-500/40 to-transparent origin-top scale-y-0 transition-transform duration-[1500ms] ease-out"
                ></div>

                <div class="space-y-12">
                    {
                        [
                            {
                                id: "daw",
                                title_key: "edu_daw_title",
                                date: "2025 - Actualidad",
                                desc_key: "edu_daw_desc",
                                techs: ["Python", "Django", "VueJs", "Nginx", "PostgreSQL"],
                                active: true,
                            },
                            {
                                id: "dam",
                                title_key: "edu_dam_title",
                                date: "2023 - 2025",
                                desc_key: "edu_dam_desc",
                                techs: ["Java", "Spring", "Hibernate", "Android", "Laravel"],
                                active: false,
                            },
                        ].map((edu, index) => (
                            <div 
                                class="relative pl-8 md:pl-24 group opacity-0 translate-x-4 transition-all duration-700" 
                                style={`transition-delay: ${index * 200 + 500}ms`}
                                data-edu-item
                            >
                                <div class={`absolute left-[-5px] md:left-[27px] top-2 w-3 h-3 rounded-full border-2 border-[#030303] z-20 transition-all duration-500 group-hover:scale-150 ${edu.active ? 'bg-indigo-500 shadow-[0_0_15px_rgba(99,102,241,0.8)]' : 'bg-neutral-700 group-hover:bg-white'}`}></div>
                                
                                <div class={`relative p-1 rounded-3xl overflow-hidden transition-all duration-500 ${edu.active ? 'shadow-[0_0_30px_rgba(79,70,229,0.1)]' : ''}`}>
                                    <div class={`absolute inset-0 bg-gradient-to-br ${edu.active ? 'from-indigo-500/20 via-purple-500/10 to-transparent' : 'from-white/5 to-transparent'} opacity-50 group-hover:opacity-100 transition-opacity`}></div>
                                    
                                    <div class="relative bg-neutral-900/40 backdrop-blur-xl p-6 md:p-8 rounded-[22px] border border-white/5">
                                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4">
                                            <div>
                                                <span class="text-indigo-400 font-mono text-[10px] uppercase tracking-[0.3em] font-bold">{edu.date}</span>
                                                <h3 data-i18n={edu.title_key} class="text-xl md:text-2xl font-bold text-white mt-1"></h3>
                                            </div>
                                            <span data-i18n="edu_institution" class="text-gray-400 text-xs font-medium px-3 py-1 bg-white/5 rounded-full border border-white/10 w-fit"></span>
                                        </div>

                                        <p data-i18n={edu.desc_key} class="text-gray-400 text-sm leading-relaxed mb-6 max-w-2xl"></p>

                                        <div class="flex flex-wrap gap-2 text-white">
                                            {edu.techs.map(tech => (
                                                <span class="px-2 py-1 bg-white/5 border border-white/5 rounded text-[9px] font-bold text-gray-500 uppercase group-hover:text-indigo-300 transition-colors">
                                                    {tech}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const observerOptions = {
        threshold: 0.2
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Animamos la línea
                const line = entry.target.querySelector('#timeline-line');
                if (line) line.classList.replace('scale-y-0', 'scale-y-100');

                // Animamos cada item de educación
                const items = entry.target.querySelectorAll('[data-edu-item]');
                items.forEach(item => {
                    item.classList.replace('opacity-0', 'opacity-100');
                    item.classList.replace('translate-x-4', 'translate-x-0');
                });
            }
        });
    }, observerOptions);

    const section = document.querySelector('#education');
    if (section) observer.observe(section);
</script>